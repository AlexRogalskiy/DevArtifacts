*, *:after, *:before {
  box-sizing: border-box;
}

html, body {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100%;
  perspective: 100em;
  background: #111;
}

@keyframes bounce {
  20% {
    transform: rotateX(35deg) rotateZ(45deg) translateZ(-5em);
  }
  50% {
    transform: rotateX(47deg) rotateZ(45deg) translateZ(-4em);
  }
}
.cube {
  position: relative;
  width: 8em;
  height: 8em;
  transform: rotateX(45deg) rotateZ(45deg) translateZ(-4em);
  animation: bounce 3s 3.5s ease forwards;
  transform-style: preserve-3d;
  transition: all .8s ease;
  /*&:hover {
    transform:
      rotateX(0)
      rotateZ(0)
      translateZ(-4em);
  }*/
}

.face {
  position: absolute;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  backface-visibility: hidden;
}
.face.top {
  transform: translateZ(8em);
}
.face.left {
  transform: rotateX(-90deg) translateZ(4em) translateY(-4em);
}
.face.right {
  transform: rotateX(-90deg) rotateY(90deg) translateZ(4em) translateY(-4em);
}

.row {
  display: flex;
  margin: 0 0 .3em 0;
  transform: translateZ(0);
}
.row:last-child {
  margin: 0;
}

.square {
  height: 2.4em;
  width: 2.4em;
  background: #5B4AB9;
  margin: 0 .3em 0 0;
  position: relative;
  opacity: 0;
  animation: fadeIn .2s linear forwards;
}
.square:last-child {
  margin: 0;
}
.square.padding {
  background: transparent;
}

@keyframes cubeMini {
  5.5% {
    transform: translateZ(9.4em) translateX(-2.8em) rotateY(-90deg);
  }
  11% {
    transform: translateZ(9.4em) translateX(-5.6em) rotateY(-180deg);
  }
  16.5% {
    transform: translateZ(9.4em) translateX(-5.6em) translateY(2.8em) rotateY(-180deg) rotateX(90deg);
  }
  22% {
    transform: translateZ(9.4em) translateX(-5.6em) translateY(5.6em) rotateY(-180deg) rotateX(180deg);
  }
  27.5% {
    transform: translateZ(6.6em) translateX(-5.6em) translateY(8.4em) rotateY(-180deg) rotateX(270deg);
  }
  33% {
    transform: translateZ(3.8em) translateX(-5.6em) translateY(8.4em) rotateY(-180deg) rotateX(360deg);
  }
  38.5% {
    transform: translateZ(1em) translateX(-5.6em) translateY(8.4em) rotateY(-180deg) rotateX(450deg);
  }
  44% {
    transform: translateZ(1em) translateX(-2.8em) translateY(8.4em) rotateY(-180deg) rotateZ(90deg) rotateX(450deg);
  }
  49.5% {
    transform: translateZ(1em) translateX(0) translateY(8.4em) rotateY(-180deg) rotateZ(180deg) rotateX(450deg);
  }
  55% {
    transform: translateZ(1em) translateX(2.8em) translateY(5.6em) rotateY(-180deg) rotateZ(270deg) rotateX(450deg);
  }
  60.5% {
    transform: translateZ(1em) translateX(2.8em) translateY(2.8em) rotateY(-180deg) rotateZ(360deg) rotateX(450deg);
  }
  66% {
    transform: translateZ(1em) translateX(2.4em) translateY(0) rotateY(-180deg) rotateZ(450deg) rotateX(450deg);
  }
  71.5% {
    transform: translateZ(3.8em) translateX(2.4em) translateY(0) rotateY(-180deg) rotateZ(450deg) rotateX(360deg);
  }
  77% {
    transform: translateZ(6.6em) translateX(2.4em) translateY(0) rotateY(-180deg) rotateZ(450deg) rotateX(270deg);
  }
  82.5% {
    transform: translateZ(6.6em) translateX(2.4em) translateY(2.8em) rotateY(-180deg) rotateZ(360deg) rotateX(270deg);
  }
  88% {
    transform: translateZ(6.6em) translateX(2.4em) translateY(5.6em) rotateY(-180deg) rotateZ(270deg) rotateX(270deg);
  }
  95% {
    transform: translateZ(11.4em) translateX(0) translateY(5.6em) rotateY(180deg) rotateZ(270deg) rotateX(270deg);
  }
  100% {
    transform: translateZ(6.6em) translateX(0) translateY(5.6em) rotateY(180deg) rotateZ(270deg) rotateX(270deg);
  }
}
.cube.mini {
  animation: cubeMini 3.5s .2s ease-out forwards;
  transition: all .4s ease;
  width: 2.4em;
  height: 2.4em;
  position: absolute;
  right: 0;
  transform: translateZ(9.4em);
}
.cube.mini .face {
  backface-visibility: visible;
  position: absolute;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  background: #5B4AB9;
  border: 2px solid #7262c9;
}
.cube.mini .face.back {
  transform: translateZ(-1.2em) rotateY(180deg);
}
.cube.mini .face.right {
  transform: rotateY(-270deg) translateX(1.2em);
  transform-origin: top right;
}
.cube.mini .face.left {
  transform: rotateY(270deg) translateX(-1.2em);
  transform-origin: center left;
}
.cube.mini .face.top {
  transform: rotateX(-90deg) translateY(-1.2em);
  transform-origin: top center;
}
.cube.mini .face.bottom {
  transform: rotateX(90deg) translateY(1.2em);
  transform-origin: bottom center;
}
.cube.mini .face.front {
  transform: translateZ(1.2em);
}

@keyframes fadeIn {
  to {
    opacity: 1;
    filter: opacity(1);
  }
}
.square[data-index="1"] {
  animation-delay: 0.4s;
}

.square[data-index="2"] {
  animation-delay: 0.6s;
}

.square[data-index="3"] {
  animation-delay: 0.8s;
}

.square[data-index="4"] {
  animation-delay: 1s;
}

.square[data-index="5"] {
  animation-delay: 1.2s;
}

.square[data-index="6"] {
  animation-delay: 1.4s;
}

.square[data-index="7"] {
  animation-delay: 1.6s;
}

.square[data-index="8"] {
  animation-delay: 1.8s;
}

.square[data-index="9"] {
  animation-delay: 2s;
}

.square[data-index="10"] {
  animation-delay: 2.2s;
}

.square[data-index="11"] {
  animation-delay: 2.4s;
}

.square[data-index="12"] {
  animation-delay: 2.6s;
}

.square[data-index="13"] {
  animation-delay: 2.8s;
}

.square[data-index="14"] {
  animation-delay: 3s;
}

.square[data-index="15"] {
  animation-delay: 3.2s;
}
