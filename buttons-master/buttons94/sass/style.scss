@import "compass/css3";

@import url(http://weloveiconfonts.com/api/?family=entypo);

/**
 * Colors
 */
$c-orange     : #eeaa44;
$c-white      : #fff;

$c-shadow : #888;

*, *:before, *:after {
  -moz-box-sizing : border-box;
  box-sizing : border-box;
}

body {
  font-family : sans-serif;
  text-align : center;
  
  @include background-image(
    linear-gradient(
      adjust-lightness( #555, 50 ),
      rgba( #666, 0 )
    )
  );
}

.check, .check--input, .check--label {
  display : inline-block;
  
  vertical-align : middle;
}

.check {
  position : absolute;
  
  overflow : hidden;

  top : 20%;
  left : 50%;
  
  z-index : 0;
  height : 5rem;
  padding : 1rem 1rem 1rem 4rem;
  margin : 0 0 0 -5rem;

  background : #cfcfcf;
  @include background-image(
    linear-gradient(
      #cfcfcf,
      #e2e2e2,
      #cfcfcf
    )
  );
  
  
  border-radius : 4rem;
  
  border : 1px solid #eee;
  box-shadow :
    inset 0 1px 0.333rem $c-shadow,
    0 0 1px 1px $c-white,
    0 3px 0.1rem $c-shadow;
}

.check--input { 
  position : absolute;
  z-index : 1;
  
  top : 1rem;
  left : 1rem;
  
  height : 3rem;
  width  : 3rem;

  margin : 0;
  
  cursor : pointer;
  
  &:checked {
    & + .check--label {
      max-width : 0;
      padding : 0;
      color : transparent;
      text-shadow : none;
      
      &:before {
        box-shadow : inset 0 1px 0.1rem $c-shadow;
      }
      &:after {
        color : $c-orange;
      }
    }
    
    & ~ .check--svg > circle {
      stroke-dashoffset : 0;
    }
  }
}

.check--label {
  position : relative;

  max-width : 200px;
  
  padding : 0 0 0 1.5rem;
  
  font-size : 1rem;
  line-height : 3rem;

  color : #777;
  text-shadow : 0 1px 0 $c-white;
  
  cursor : pointer;
  
  @include transition(
    max-width   0.5s ease-in,
    padding     0.5s ease-in,
    color       0.5s ease-in,
    text-shadow 0.5s ease-in
  );
  
  &:hover {
    &:after {
      @include background-image(
        linear-gradient(
          #ddd,
          #f8f8f8
        )
      );
    }
  }
  
  &:before, &:after {
    position : absolute;
  }
  
  &:before {
    top : -0.5rem;
    left : -3.5rem;
    
    content : '';
    
    z-index : 1;
    
    width : 4rem;
    height : 4rem;
    
    border : 1px solid #eee;
    border-radius : 50%;

    @include background-image(
      linear-gradient(
        #f5f5f5,
        #d1d1d1
      )
    );
    
    box-shadow : 0 0.2rem 0.25rem $c-shadow, inset 0 1px 2px $c-white;
  }
  
  &:after {
    top  : 0;
    left : -3rem;
    
    width  : 3rem;
    height : 3rem;
    
    border : 1px solid $c-white;
    border-radius : 50%;

    z-index : 2;
    
    content: "\1f50b";
    
    text-align : center;
    font-family: 'entypo', sans-serif;
    font-size : 1.5rem;
    line-height : 3rem;
    
    color : #777;
    
    @include background-image(
      linear-gradient(
        #e1e1e1,
        #eee
      )
    );
    
    @include transition (
      color 0.5s ease-in-out 2.25s
    );
    
    box-shadow : inset 0 0.25rem 0.75rem #ccc;
    text-shadow : 0 1px 0 $c-white;
  }
}

.check--svg {
  position : absolute;
  
  top  : 0;
  left : 0;
  
  circle {
    fill : transparent;
    
    stroke : $c-orange;
    stroke-width : 6px;
    stroke-dashoffset : 230;
    stroke-dasharray : 230 230;
    
    @include transition(
      stroke-dashoffset 1s ease-in-out 1s
    );
  }
}