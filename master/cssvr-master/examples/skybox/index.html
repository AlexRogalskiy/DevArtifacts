<!DOCTYPE html>
<!--

Credits

Skybox texture "miramar" by Jockum Skoglund (aka "hipshot") the original file and license can be found here:
https://forums.epicgames.com/unreal-tournament-2003-2004/ut2004-level-editing-modeling-skinning/108243-my-skies-and-and-cliff-textures-large-images


-->
<html>
<head>
  <meta charset="utf-8">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
  <title>CSS VR Prototype by Keith Clark</title>
  <link rel="stylesheet" href="../common/demo-screen.css" media="screen">
  <link rel="stylesheet" href="../common/demo-cssvr.css" media="cssvr">
  <style>
    @media screen {
      #root {
        display: none;
      }
    }
    @media cssvr {
      #instructions {
        display: none;
      }
      #root {
        display: block;
      }

      /* Demo structure
      ----------------------------------------------------- */

      .three-d {
        position: absolute;
        top:50%;
        left:50%;
        transform-style: preserve-3d;
        transform: translate(-50%, -50%);
      }


      .assembly--cube .face {
        width: 200px;
        height: 200px;
        box-shadow: inset 0 0 0 2px red;
        background: rgba(180, 180, 180, .25);
        text-align: center;
        line-height: 200px;
        font-size: 250%;
      }

      .assembly--cube .face:nth-child(1){
        transform: translate(-50%, -50%) translateZ(100px);
      }
      .assembly--cube .face:nth-child(2){
        transform: translate(-50%, -50%) translateX(-100px) rotateY(-90deg);
      }
      .assembly--cube .face:nth-child(3){
        transform: translate(-50%, -50%) translateZ(-100px) rotateY(180deg) ;
      }
      .assembly--cube .face:nth-child(4){
        transform: translate(-50%, -50%) translateX(100px) rotateY(90deg);
      }
      .assembly--cube .face:nth-child(5){
        transform: translate(-50%, -50%) translateY(-100px) rotateX(90deg);
      }
      .assembly--cube .face:nth-child(6){
        transform: translate(-50%, -50%) translateY(100px) rotateX(-90deg);
      }



      .assembly--skybox {
        transform: scale3d(4,4,4) rotateY(90deg);
        pointer-events: none;
      }
      .assembly--skybox .face {
        width: 512px;
        height: 512px;
        background: url('img/skybox.jpg') 0 0;
      }
      .assembly--skybox .face:nth-child(1) {
        transform: translate(-50%,-50%) translateX(-255px) rotateY(90deg);
        background-position: -512px -512px;
      }
      .assembly--skybox .face:nth-child(2) {
        transform: translate(-50%,-50%) translateX(255px) rotateY(-90deg);
        background-position: -1536px -512px;
      }
      .assembly--skybox .face:nth-child(3) {
        transform: translate(-50%,-50%) translateZ(255px) rotateY(180deg) ;
        background-position: 0px -512px;
        }
      .assembly--skybox .face:nth-child(4){
        transform: translate(-50%,-50%) translateZ(-255px);
        background-position: -1024px -512px;
      }
      .assembly--skybox .face:nth-child(5){
        transform: translate(-50%,-50%) translateY(-255px) rotateX(-90deg) rotateZ(90deg);
        background-position: -512px 0px;
      }
      .assembly--skybox .face:nth-child(6){
        transform: translate(-50%,-50%) translateY(255px) rotateX(90deg) rotateZ(-90deg);
        background-position: -512px -1024px;
      }


      /* offset the cubes */
      .assembly--cube:nth-child(1) {
        transform: translate(-50%, -50%) translateZ(-220px);
      }
      .assembly--cube:nth-child(2) {
        transform: translate(-50%, -50%) translateZ(220px)
      }
      .assembly--cube:nth-child(3) {
        transform: translate(-50%, -50%) translateY(-220px)
      }


      /* spin the cubes */
      .assembly--test {
        transform: translate(-50%, -50%) translate3d(200px, -100px, -500px) rotateY(90deg);
        animation: 15s spin linear infinite;
      }


      .face:hover {
        background: rgba(128,255,128,.5) !important;
      }


      @keyframes spin {
        from {
          transform: translate(-50%, -50%) translateZ(-500px) rotateY(0) rotateX(0) rotateZ(0);
        }
        to {
          transform: translate(-50%, -50%) translateZ(-500px) rotateY(360deg) rotateX(720deg) rotateZ(1080deg);
        }
      }

    }
  </style>
</head>
<body>
  <div id="root">
    <div class="three-d assembly assembly--skybox">
      <div class="three-d face"></div>
      <div class="three-d face"></div>
      <div class="three-d face"></div>
      <div class="three-d face"></div>
      <div class="three-d face"></div>
      <div class="three-d face"></div>
    </div>
    <div class="three-d assembly assembly--test">
      <div class="three-d assembly assembly--cube">
        <div class="three-d face">1</div>
        <div class="three-d face">2</div>
        <div class="three-d face">3</div>
        <div class="three-d face">4</div>
        <div class="three-d face">5</div>
        <div class="three-d face">6</div>
      </div>
      <div class="three-d assembly assembly--cube">
        <div class="three-d face">1</div>
        <div class="three-d face">2</div>
        <div class="three-d face">3</div>
        <div class="three-d face">4</div>
        <div class="three-d face">5</div>
        <div class="three-d face">6</div>
      </div>
      <div class="three-d assembly assembly--cube">
        <div class="three-d face">1</div>
        <div class="three-d face">2</div>
        <div class="three-d face">3</div>
        <div class="three-d face">4</div>
        <div class="three-d face">5</div>
        <div class="three-d face">6</div>
      </div>
    </div>
  </div>
  <div id="instructions">
    <h1>CSSVR: Skybox</h1>
    <p>Please orientate your viewport to landscape and, if
      your browser supports it, enable fullscreen. Then insert
      your device into a VR headset.</p>
    <p>For the best experience, add to your homescreen.</p>
    <button type="button" class="button" id="start">Start</button>
    <p class="credits">
      This is a <a href="http://keithclark.co.uk">Keith Clark</a>
      experiment. Got questions? You can find me on
      <a href="https://twitter.com/keithclarkcouk">twitter</a>.
    </p>
  </div>
  <script src="../../dist/cssvr.min.js"></script>
  <script src="../common/vendor/no-sleep.min.js"></script>
  <script>
    var vrConfig = {
      root: document.getElementById('root'),
      fov: 70,
      projection: 'stereo',
      stereoPitch: 50,
      cameraHeight: 120
    };
  </script>
  <script src="../common/demo.js"></script>
</body>
</html>
