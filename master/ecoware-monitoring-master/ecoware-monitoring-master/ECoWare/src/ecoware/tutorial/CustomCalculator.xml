<?xml version="1.0" encoding="UTF-8"?>
<ecoware>
	<ecowareAccessManagerUrl>localhost</ecowareAccessManagerUrl>
	<Custom_Calculator>
			<calculator_name>DBTime_Custom_Calculator</calculator_name>
			<id>10</id>
			<subscriptID>DBSystem</subscriptID>
			<publicationID>dbTime_evaluate</publicationID>
			<event>
				<name>StartDBTime</name>
				<map>
				   <attribute>
				      <name>key</name>
				      <type>String</type>
				   </attribute>
				   <attribute>
				      <name>value</name>
				      <type>long</type>
				   </attribute>
				   <attribute>
				      <name>instanceId</name>
				      <type>String</type>
				   </attribute>
				</map>
			</event>
			<event>
				<name>EndDBTime</name>
				<map>
				   <attribute>
				      <name>key</name>
				      <type>String</type>
				   </attribute>
				   <attribute>
				      <name>value</name>
				      <type>long</type>
				   </attribute>
				   <attribute>
				      <name>instanceId</name>
				      <type>String</type>
				   </attribute>
				</map>
			</event>
			<event>
				<name>CountDB</name>
				<map>
				   <attribute>
				      <name>key</name>
				      <type>String</type>
				   </attribute>
				   <attribute>
				      <name>value</name>
				      <type>long</type>
				   </attribute>
				   <attribute>
				      <name>instanceId</name>
				      <type>String</type>
				   </attribute>
				</map>
			</event>
			<event>
				<name>DBTime</name>
				<map>
				   <attribute>
				      <name>id</name>
				      <type>String</type>
				   </attribute>
				   <attribute>
				      <name>sum</name>
				      <type>long</type>
				   </attribute>
				</map>
			</event>
			<EPL>
				<query_statement>SELECT e.instanceId as id, c.value as sum FROM EndDBTime.win:time(20 seconds) as e, StartDBTime.win:time(20 seconds) as b, CountDB.win:time(20 seconds) as c WHERE e.key like b.key AND e.instanceId like c.instanceId</query_statement>
			</EPL>
			
		</Custom_Calculator>
</ecoware>