<!doctype html>
<html>

<head>
  <meta name="generator" content="JSDoc 3.5.5">
  <meta charset="utf-8">
  <title>Class: ChatMessage</title>
  <link rel="stylesheet" href="https://brick.a.ssl.fastly.net/Karla:400,400i,700,700i" type="text/css">
  <link rel="stylesheet" href="https://brick.a.ssl.fastly.net/Noto+Serif:400,400i,700,700i" type="text/css">
  <link rel="stylesheet" href="https://brick.a.ssl.fastly.net/Inconsolata:500" type="text/css">
  <link href="css/baseline.css" rel="stylesheet">
</head>

<body onload="prettyPrint()">
  <nav id="jsdoc-navbar" role="navigation" class="jsdoc-navbar">
    <div id="jsdoc-navbar-container">
      <div id="jsdoc-navbar-content">
        <a href="index.html" class="jsdoc-navbar-package-name">Home</a>
      </div>
    </div>
  </nav>
  <div id="jsdoc-body-container">
    <div id="jsdoc-content">
      <div id="jsdoc-content-container">
        <div id="jsdoc-main" role="main">
          <header class="page-header">
            <div class="symbol-detail-labels"><span class="label label-kind">class</span>&nbsp;<span class="label label-static">static</span></div>
            <h1><small><a href="BBMEnterprise.html">BBMEnterprise</a>.<wbr><a href="BBMEnterprise.Messenger.html">Messenger</a>.<wbr></small><span class="symbol-name">ChatMessage</span></h1>
            <div class="symbol-classdesc">
              <p>Provides a structure to encapsulate the details related to a message within a chat. Each instance of a ChatMessage is immutable.</p>
            </div>
            <dl class="dl-compact">
            </dl>
            <dl class="dl-compact">
            </dl>
          </header>
          <section id="summary">
            <div class="summary-callout">
              <h2 class="summary-callout-heading">Properties</h2>
              <div class="summary-content">
                <div class="summary-column">
                  <dl class="dl-summary-callout">
                    <dt><a href="BBMEnterprise.Messenger.ChatMessage.html#chatId">chatId</a></dt>
                    <dd>
                    </dd>
                    <dt><a href="BBMEnterprise.Messenger.ChatMessage.html#content">content</a></dt>
                    <dd>
                    </dd>
                    <dt><a href="BBMEnterprise.Messenger.ChatMessage.html#data">data</a></dt>
                    <dd>
                    </dd>
                    <dt><a href="BBMEnterprise.Messenger.ChatMessage.html#hasFile">hasFile</a></dt>
                    <dd>
                    </dd>
                    <dt><a href="BBMEnterprise.Messenger.ChatMessage.html#isDeleted">isDeleted</a></dt>
                    <dd>
                    </dd>
                    <dt><a href="BBMEnterprise.Messenger.ChatMessage.html#isIncoming">isIncoming</a></dt>
                    <dd>
                    </dd>
                  </dl>
                </div>
                <div class="summary-column">
                  <dl class="dl-summary-callout">
                    <dt><a href="BBMEnterprise.Messenger.ChatMessage.html#isRecalled">isRecalled</a></dt>
                    <dd>
                    </dd>
                    <dt><a href="BBMEnterprise.Messenger.ChatMessage.html#isUnverified">isUnverified</a></dt>
                    <dd>
                    </dd>
                    <dt><a href="BBMEnterprise.Messenger.ChatMessage.html#messageId">messageId</a></dt>
                    <dd>
                    </dd>
                    <dt><a href="BBMEnterprise.Messenger.ChatMessage.html#sender">sender</a></dt>
                    <dd>
                    </dd>
                    <dt><a href="BBMEnterprise.Messenger.ChatMessage.html#state">state</a></dt>
                    <dd>
                    </dd>
                    <dt><a href="BBMEnterprise.Messenger.ChatMessage.html#tag">tag</a></dt>
                    <dd>
                    </dd>
                  </dl>
                </div>
                <div class="summary-column">
                  <dl class="dl-summary-callout">
                    <dt><a href="BBMEnterprise.Messenger.ChatMessage.html#thumbData">thumbData</a></dt>
                    <dd>
                    </dd>
                    <dt><a href="BBMEnterprise.Messenger.ChatMessage.html#timestamp">timestamp</a></dt>
                    <dd>
                    </dd>
                    <dt><a href="BBMEnterprise.Messenger.ChatMessage.html#.ReservedTag">ReservedTag</a></dt>
                    <dd>
                    </dd>
                    <dt><a href="BBMEnterprise.Messenger.ChatMessage.html#.StateValue">StateValue</a></dt>
                    <dd>
                    </dd>
                  </dl>
                </div>
              </div>
            </div>
            <div class="summary-callout">
              <h2 class="summary-callout-heading">Method</h2>
              <div class="summary-content">
                <div class="summary-column">
                  <dl class="dl-summary-callout">
                    <dt><a href="BBMEnterprise.Messenger.ChatMessage.html#download">download(options)</a></dt>
                    <dd>
                    </dd>
                  </dl>
                </div>
                <div class="summary-column">
                </div>
                <div class="summary-column">
                </div>
              </div>
            </div>
            <div class="summary-callout">
              <h2 class="summary-callout-heading">Abstract types</h2>
              <div class="summary-content">
                <div class="summary-column">
                  <dl class="dl-summary-callout">
                    <dt><a href="BBMEnterprise.Messenger.ChatMessage.html#.AdminData">AdminData</a></dt>
                    <dd>
                    </dd>
                  </dl>
                </div>
                <div class="summary-column">
                  <dl class="dl-summary-callout">
                    <dt><a href="BBMEnterprise.Messenger.ChatMessage.html#.RemoveData">RemoveData</a></dt>
                    <dd>
                    </dd>
                  </dl>
                </div>
                <div class="summary-column">
                  <dl class="dl-summary-callout">
                    <dt><a href="BBMEnterprise.Messenger.ChatMessage.html#.State">State</a></dt>
                    <dd>
                    </dd>
                  </dl>
                </div>
              </div>
            </div>
          </section>
          <section>
          </section>
          <section>
            <h2>Properties</h2>
            <section>
              <h3 id="chatId"><span class="symbol-name">chatId</span><small class="property-type">
            &nbsp;string</small></h3>
              <p>The unique identifier of the chat in which this message belongs.</p>
              <dl class="dl-compact">
              </dl>
              <h3 id="content"><span class="symbol-name">content</span><small class="property-type">
            &nbsp;string</small></h3>
              <p>Optional. The text content of the message when the 'tag' has such a concept; otherwise undefined.</p>
              <dl class="dl-compact">
              </dl>
              <h3 id="data"><span class="symbol-name">data</span><small class="property-type">
            &nbsp;(Object, <a href="BBMEnterprise.Messenger.ChatMessage.html#.AdminData">ChatMessage.AdminData</a>, or <a href="BBMEnterprise.Messenger.ChatMessage.html#.RemoveData">ChatMessage.RemoveData</a>)</small></h3>
              <p>When <a href="BBMEnterprise.Messenger.ChatMessage.html#tag">tag</a> ===
                <a href="BBMEnterprise.Messenger.ChatMessage.html#.ReservedTag">ReservedTag.Admin</a> the data will be an <a href="BBMEnterprise.Messenger.ChatMessage.html#.AdminData">AdminData</a> object.</p>
              <p>When <a href="BBMEnterprise.Messenger.ChatMessage.html#tag">tag</a> ===
                <a href="BBMEnterprise.Messenger.ChatMessage.html#.ReservedTag">ReservedTag.Remove</a> the data will be an <a href="BBMEnterprise.Messenger.ChatMessage.html#.RemoveData">RemoveData</a> object.</p>
              <p>Any other reserved
                <a href="BBMEnterprise.Messenger.ChatMessage.html#tag">tag</a>, the data object will be undefined.</p>
              <p>Any unreserved
                <a href="BBMEnterprise.Messenger.ChatMessage.html#tag">tag</a> the data object will be set according to the application usage. The SDK does not examine or modify the data unless the message was sent by the SDK. When present, this will
                always be a JSON Object.</p>
              <dl class="dl-compact">
              </dl>
              <h3 id="hasFile"><span class="symbol-name">hasFile</span><small class="property-type">
            &nbsp;boolean</small></h3>
              <p>Flag to indicate whether or not the message has a file linked to it which may be downloaded by calling download().</p>
              <dl class="dl-compact">
              </dl>
              <h3 id="isDeleted"><span class="symbol-name">isDeleted</span><small class="property-type">
            &nbsp;boolean</small></h3>
              <p>Flag to indicate whether or not the message has been privately deleted for the local user. When true, the message has been deleted and the content, data, and thumbData will be removed.</p>
              <dl class="dl-compact">
              </dl>
              <h3 id="isIncoming"><span class="symbol-name">isIncoming</span><small class="property-type">
            &nbsp;boolean</small></h3>
              <p>The flag to indicate whether or not the message is incoming (i.e. sent by a participant other than the local user). When true the message is incoming. When false, the message is outgoing.</p>
              <dl class="dl-compact">
              </dl>
              <h3 id="isRecalled"><span class="symbol-name">isRecalled</span><small class="property-type">
            &nbsp;boolean</small></h3>
              <p>Flag to indicate whether or not the message has been recalled. When true, the message has been recalled by the sender and the content, data, and thumbData will be removed. When omitted/undefined or false, the message has not been recalled.</p>
              <dl class="dl-compact">
              </dl>
              <h3 id="isUnverified"><span class="symbol-name">isUnverified</span><small class="property-type">
            &nbsp;boolean</small></h3>
              <p>The flag to indicate whether or not the message signature was verified. When true, the message signature could not be verified. When false, the message signature was successfully verified.</p>
              <dl class="dl-compact">
              </dl>
              <h3 id="messageId"><span class="symbol-name">messageId</span><small class="property-type">
            &nbsp;<a href="BBMEnterprise.Messenger.MessageId.html">BBMEnterprise.Messenger.MessageId</a></small></h3>
              <p>The unique identifier for this message used within the SDK and the infrastructure.
              </p>
              <dl class="dl-compact">
              </dl>
              <h3 id="sender"><span class="symbol-name">sender</span><small class="property-type">
            &nbsp;string</small></h3>
              <p>The BBM Registration ID of the sender of this message. The sender is either a current or past participant of the chat.</p>
              <dl class="dl-compact">
              </dl>
              <h3 id="state"><span class="symbol-name">state</span><small class="property-type">
            &nbsp;<a href="BBMEnterprise.Messenger.ChatMessage.html#.State">ChatMessage.State</a></small></h3>
              <p>The current delivery/read state of the message.</p>
              <p>For incoming messages, the state reflects whether or not the local user has read the message. There are no partial states for incoming messages.
              </p>
              <p>For outgoing messages, the state reflects whether or not the message was successfully sent. It also indicates whether or not other participants have declared the message as delivered or read. The delivered and read states may be flagged
                as partial for outgoing messages.
              </p>
              <dl class="dl-compact">
              </dl>
              <h3 id="tag"><span class="symbol-name">tag</span><small class="property-type">
            &nbsp;string</small></h3>
              <p>The application defined tag that identifies the type of message. This may also be one of the reserved tag values defined in <a href="BBMEnterprise.Messenger.ChatMessage.html#.ReservedTag">ChatMessage.ReservedTag</a></p>
              <dl class="dl-compact">
              </dl>
              <h3 id="thumbData"><span class="symbol-name">thumbData</span><small class="property-type">
            &nbsp;Uint8Array</small></h3>
              <p>Optional. The raw bytes of a small file that were included in the message.
              </p>
              <dl class="dl-compact">
              </dl>
              <h3 id="timestamp"><span class="symbol-name">timestamp</span><small class="property-type">
            &nbsp;Date</small></h3>
              <p>The date and time the message was sent by the sender.</p>
              <dl class="dl-compact">
              </dl>
              <div class="symbol-detail-labels"><span class="label label-static">static</span></div>
              <h3 id=".ReservedTag"><span class="symbol-name">ReservedTag</span><small class="property-type">
            &nbsp;string</small></h3>
              <p>The <a href="BBMEnterprise.Messenger.ChatMessage.html">BBMEnterprise.Messenger.ChatMessage</a> tags that are reserved for use by the BBM Enterprise SDK.</p>
              <section>
                <h4>Properties</h4>
                <table class="jsdoc-details-table">
                  <thead>
                    <tr>
                      <th>Name</th>
                      <th>Type</th>
                      <th>Optional</th>
                      <th>Description</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>
                        <p>Join</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>The message sender has joined the chat. A message with this tag has no content, data, or thumbData properties.</p>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <p>Leave</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>The message sender has left the chat. A message with this tag has no content, data, or thumbData properties.</p>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <p>Subject</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>The message sender has changed the chat's subject. The content property contains the new subject. A message with this tag has no data or thumbData properties.</p>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <p>Shred</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>The message sender has shredded all of their earlier contributions to the chat.</p>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <p>Gap</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>A gap in the message history has been detected. This type of message is expected to be extremely rare and can only occur with long lived clients that have been disconnected from the infrastructure for an extended period of time
                          that reconnect after message history has been culled from the infrastructure.</p>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <p>Admin</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>A message type indicating that there is an update to a partcipant's chat admin status.</p>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <p>Remove</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>A message type indicating that a participant was removed from a chat.</p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </section>
              <dl class="dl-compact">
              </dl>
              <div class="symbol-detail-labels"><span class="label label-static">static</span></div>
              <h3 id=".StateValue"><span class="symbol-name">StateValue</span><small class="property-type">
            &nbsp;string</small></h3>
              <p>The possible state values that a <a href="BBMEnterprise.Messenger.ChatMessage.html">BBMEnterprise.Messenger.ChatMessage</a> can have.</p>
              <section>
                <h4>Properties</h4>
                <table class="jsdoc-details-table">
                  <thead>
                    <tr>
                      <th>Name</th>
                      <th>Type</th>
                      <th>Optional</th>
                      <th>Description</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>
                        <p>Sent</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>An outgoing message has been successfully received by the infrastructure. This state can progress to Delivered or Read.</p>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <p>Failed</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>An outgoing message has failed to be sent to the infrastructure. This state is final and cannot be progressed.</p>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <p>Delivered</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>For an outgoing message, this state indicates that the message has been delivered to at least one other participant in the chat. For an incoming message, this state indicates that the message has been delivered to the local user.</p>
                        <p>This state can be progressed to Read.</p>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <p>Read</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>For an outgoing message, this state indicates that the message has been read by at least one other participant in the chat. For an incoming message, this state indicates that the message has been read by the local user.</p>
                        <p>This state is final and cannot be progressed or regressed.</p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </section>
              <dl class="dl-compact">
              </dl>
            </section>
            <h2>Method</h2>
            <section>
              <h3 id="download"><span class="symbol-name">download</span><span class="signature"><span class="signature-params">(options)</span>&nbsp;&rarr; <span class="signature-returns"> Promise containing Uint8Array</span></span>
              </h3>
              <p>Download the file associated with a ChatMessage. This function is only present when hasFile is set.</p>
              <section>
                <h4>Parameter</h4>
                <table class="jsdoc-details-table">
                  <thead>
                    <tr>
                      <th>Name</th>
                      <th>Type</th>
                      <th>Optional</th>
                      <th>Description</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>
                        <p>options</p>
                      </td>
                      <td>
                        <p>Object</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>Options for the download procedure.</p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </section>
              <dl class="dl-compact">
                <dt>Returns</dt>
                <dd>
                  <p><code>Promise containing Uint8Array</code>&nbsp;
                    <p>Containing the file associated with this messages. The promise may be rejected with any <a href="BBMEnterprise.Error.html">BBMEnterprise.Error</a> error.
                    </p>
                  </p>
                </dd>
              </dl>
            </section>
            <h2>Abstract types</h2>
            <section>
              <div class="symbol-detail-labels"><span class="label label-static">static</span></div>
              <h3 id=".AdminData"><span class="symbol-name">AdminData</span><small class="property-type">
            &nbsp;object</small></h3>
              <p>The object used to encapsulate the data for a participant that had their admin status in a chat changed.</p>
              <section>
                <h4>Properties</h4>
                <table class="jsdoc-details-table">
                  <thead>
                    <tr>
                      <th>Name</th>
                      <th>Type</th>
                      <th>Optional</th>
                      <th>Description</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>
                        <p>regId</p>
                      </td>
                      <td>
                        <p>string</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>The regId of the chat participant that had their admin status changed.</p>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <p>promotion</p>
                      </td>
                      <td>
                        <p>boolean</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>The promotion state of the chat participant. True if the participant was promoted to admin, false if the participant was demoted.</p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </section>
              <dl class="dl-compact">
              </dl>
              <div class="symbol-detail-labels"><span class="label label-static">static</span></div>
              <h3 id=".RemoveData"><span class="symbol-name">RemoveData</span><small class="property-type">
            &nbsp;object</small></h3>
              <p>The object used to encapsulate the data for a participant that was removed from a chat.</p>
              <section>
                <h4>Property</h4>
                <table class="jsdoc-details-table">
                  <thead>
                    <tr>
                      <th>Name</th>
                      <th>Type</th>
                      <th>Optional</th>
                      <th>Description</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>
                        <p>regId</p>
                      </td>
                      <td>
                        <p>string</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>The regId of the participant that was removed.</p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </section>
              <dl class="dl-compact">
              </dl>
              <div class="symbol-detail-labels"><span class="label label-static">static</span></div>
              <h3 id=".State"><span class="symbol-name">State</span><small class="property-type">
            &nbsp;Object</small></h3>
              <p>The object used to encapsulate the current state of a <a href="BBMEnterprise.Messenger.ChatMessage.html">BBMEnterprise.Messenger.ChatMessage</a>.</p>
              <section>
                <h4>Properties</h4>
                <table class="jsdoc-details-table">
                  <thead>
                    <tr>
                      <th>Name</th>
                      <th>Type</th>
                      <th>Optional</th>
                      <th>Description</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>
                        <p>value</p>
                      </td>
                      <td>
                        <p><a href="BBMEnterprise.Messenger.ChatMessage.html#.StateValue">ChatMessage.StateValue</a></p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>The value of the current state.</p>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <p>isPartial</p>
                      </td>
                      <td>
                        <p>boolean</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>This indicates whether or not the state applies to some (true) or all (false) recipient. A partial state is only ever applied to outgoing messages that have progressed to the Delivered or Read states.</p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </section>
              <dl class="dl-compact">
              </dl>
            </section>
          </section>
        </div>
      </div>
      <nav id="jsdoc-toc-nav" role="navigation"></nav>
    </div>
  </div>
  <footer id="jsdoc-footer" class="jsdoc-footer">
    <div id="jsdoc-footer-container">
      <p>
        Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc</a> 3.5.5 on November 24, 2017.
      </p>
    </div>
  </footer>
  <script src="scripts/jquery.min.js"></script>
  <script src="scripts/jquery.cookie.js"></script>
  <script src="scripts/tree.jquery.js"></script>
  <script src="scripts/prettify.js"></script>
  <script src="scripts/jsdoc-toc.js"></script>
  <script src="scripts/linenumber.js"></script>
  <script src="scripts/scrollanchor.js"></script>
</body>

</html>