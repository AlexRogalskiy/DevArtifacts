<!doctype html>
<html>

<head>
  <meta name="generator" content="JSDoc 3.5.5">
  <meta charset="utf-8">
  <title>Class: BBMEnterprise</title>
  <link rel="stylesheet" href="https://brick.a.ssl.fastly.net/Karla:400,400i,700,700i" type="text/css">
  <link rel="stylesheet" href="https://brick.a.ssl.fastly.net/Noto+Serif:400,400i,700,700i" type="text/css">
  <link rel="stylesheet" href="https://brick.a.ssl.fastly.net/Inconsolata:500" type="text/css">
  <link href="css/baseline.css" rel="stylesheet">
</head>

<body onload="prettyPrint()">
  <nav id="jsdoc-navbar" role="navigation" class="jsdoc-navbar">
    <div id="jsdoc-navbar-container">
      <div id="jsdoc-navbar-content">
        <a href="index.html" class="jsdoc-navbar-package-name">Home</a>
      </div>
    </div>
  </nav>
  <div id="jsdoc-body-container">
    <div id="jsdoc-content">
      <div id="jsdoc-content-container">
        <div id="jsdoc-main" role="main">
          <header class="page-header">
            <div class="symbol-detail-labels"><span class="label label-kind">class</span></div>
            <h1><small></small><span class="symbol-name">BBMEnterprise</span></h1>
            <div class="symbol-classdesc">
              <p>Construct a BBMEnterprise object. This encapsulates the configuration necessary to communicate on behalf of a user, as well as containing the functionality to create a chat or media call interfaces to communicate on behalf of this user.</p>
            </div>
            <dl class="dl-compact">
            </dl>
          </header>
          <section id="summary">
            <div class="summary-callout">
              <h2 class="summary-callout-heading">Child classes</h2>
              <div class="summary-content">
                <div class="summary-column">
                  <dl class="dl-summary-callout">
                    <dt><a href="BBMEnterprise.Media.html">Media(bbmenterprise, config)</a></dt>
                    <dd>
                    </dd>
                  </dl>
                </div>
                <div class="summary-column">
                  <dl class="dl-summary-callout">
                    <dt><a href="BBMEnterprise.Messenger.html">Messenger()</a></dt>
                    <dd>
                    </dd>
                  </dl>
                </div>
                <div class="summary-column">
                </div>
              </div>
            </div>
            <div class="summary-callout">
              <h2 class="summary-callout-heading">Child interface</h2>
              <div class="summary-content">
                <div class="summary-column">
                  <dl class="dl-summary-callout">
                    <dt><a href="BBMEnterprise.KeyProviderInterface.html">KeyProviderInterface</a></dt>
                    <dd>
                    </dd>
                  </dl>
                </div>
                <div class="summary-column">
                </div>
                <div class="summary-column">
                </div>
              </div>
            </div>
            <div class="summary-callout">
              <h2 class="summary-callout-heading">Namespaces</h2>
              <div class="summary-content">
                <div class="summary-column">
                  <dl class="dl-summary-callout">
                    <dt><a href="BBMEnterprise.Error.html">Error</a></dt>
                    <dd>
                    </dd>
                  </dl>
                </div>
                <div class="summary-column">
                  <dl class="dl-summary-callout">
                    <dt><a href="BBMEnterprise.Event.html">Event</a></dt>
                    <dd>
                    </dd>
                  </dl>
                </div>
                <div class="summary-column">
                  <dl class="dl-summary-callout">
                    <dt><a href="BBMEnterprise.Util.html">Util</a></dt>
                    <dd>
                    </dd>
                  </dl>
                </div>
              </div>
            </div>
            <div class="summary-callout">
              <h2 class="summary-callout-heading">Methods</h2>
              <div class="summary-content">
                <div class="summary-column">
                  <dl class="dl-summary-callout">
                    <dt><a href="BBMEnterprise.html#getRegistrationInfo">getRegistrationInfo()</a></dt>
                    <dd>
                    </dd>
                    <dt><a href="BBMEnterprise.html#isSetup">isSetup()</a></dt>
                    <dd>
                    </dd>
                  </dl>
                </div>
                <div class="summary-column">
                  <dl class="dl-summary-callout">
                    <dt><a href="BBMEnterprise.html#retryServerRequests">retryServerRequests()</a></dt>
                    <dd>
                    </dd>
                    <dt><a href="BBMEnterprise.html#setup">setup()</a></dt>
                    <dd>
                    </dd>
                  </dl>
                </div>
                <div class="summary-column">
                  <dl class="dl-summary-callout">
                    <dt><a href="BBMEnterprise.html#shutdown">shutdown()</a></dt>
                    <dd>
                    </dd>
                  </dl>
                </div>
              </div>
            </div>
            <div class="summary-callout">
              <h2 class="summary-callout-heading">Abstract types</h2>
              <div class="summary-content">
                <div class="summary-column">
                  <dl class="dl-summary-callout">
                    <dt><a href="BBMEnterprise.html#.SetupResult">SetupResult</a></dt>
                    <dd>
                    </dd>
                  </dl>
                </div>
                <div class="summary-column">
                  <dl class="dl-summary-callout">
                    <dt><a href="BBMEnterprise.html#authTokenCallback">authTokenCallback()</a></dt>
                    <dd>
                    </dd>
                  </dl>
                </div>
                <div class="summary-column">
                  <dl class="dl-summary-callout">
                    <dt><a href="BBMEnterprise.html#keyProviderCallback">keyProviderCallback(regId)</a></dt>
                    <dd>
                    </dd>
                  </dl>
                </div>
              </div>
            </div>
            <div class="summary-callout">
              <h2 class="summary-callout-heading">Event</h2>
              <div class="summary-content">
                <div class="summary-column">
                  <dl class="dl-summary-callout">
                    <dt><a href="BBMEnterprise.html#event:registrationChanged">registrationChanged</a></dt>
                    <dd>
                    </dd>
                  </dl>
                </div>
                <div class="summary-column">
                </div>
                <div class="summary-column">
                </div>
              </div>
            </div>
          </section>
          <section>
            <h2 id="BBMEnterprise">new&nbsp;<span class="symbol-name">BBMEnterprise</span><span class="signature"><span class="signature-params">(configuration)</span></span>
            </h2>
            <section>
              <h3>Parameters</h3>
              <table class="jsdoc-details-table">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Type</th>
                    <th>Optional</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <p>configuration</p>
                    </td>
                    <td>
                      <p>Object</p>
                    </td>
                    <td>
                      <p>&nbsp;</p>
                    </td>
                    <td>
                      <p>An object containing the configuration parameters to set up the sdk.</p>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <p>configuration.domain</p>
                    </td>
                    <td>
                      <p>string</p>
                    </td>
                    <td>
                      <p>&nbsp;</p>
                    </td>
                    <td>
                      <p>The domain to use. This is a string known to the BUS server, which is generally a GUID.</p>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <p>configuration.environment</p>
                    </td>
                    <td>
                      <p>string</p>
                    </td>
                    <td>
                      <p>&nbsp;</p>
                    </td>
                    <td>
                      <p>The environment that the SDK is pointing to. The possible values are: 'Sandbox', 'Production'</p>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <p>configuration.userId</p>
                    </td>
                    <td>
                      <p>string</p>
                    </td>
                    <td>
                      <p>&nbsp;</p>
                    </td>
                    <td>
                      <p>The identity of the user. This is determined by the authentication server.
                      </p>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <p>configuration.description</p>
                    </td>
                    <td>
                      <p>string</p>
                    </td>
                    <td>
                      <p>&nbsp;</p>
                    </td>
                    <td>
                      <p>A description of the endpoint. This should be an appropriate localized string based on what it can learn about the endpoint, for example &quot;Windows PC&quot; or &quot;Firefox&quot;. This information about the endpoint will be displayed
                        by other devices doing endpoint management. The maximum length is 2000 codepoints. Anything longer will be truncated.</p>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <p>configuration.getToken</p>
                    </td>
                    <td>
                      <p><a href="BBMEnterprise.html#authTokenCallback">BBMEnterprise#authTokenCallback</a></p>
                    </td>
                    <td>
                      <p>&nbsp;</p>
                    </td>
                    <td>
                      <p>This function will be invoked to get a new authentication token. The implementation should call out to a server to retrieve a new authentication token. It should never return a cached token - the implementation will internally cache
                        the token and will call out to this function only when there is no known token, or the known token is not valid.
                      </p>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <p>configuration.getKeyProvider</p>
                    </td>
                    <td>
                      <p><a href="BBMEnterprise.html#keyProviderCallback">BBMEnterprise#keyProviderCallback</a></p>
                    </td>
                    <td>
                      <p>&nbsp;</p>
                    </td>
                    <td>
                      <p>The function used to call back on the application when a key provider setup for use with the given regId is needed.</p>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <p>configuration.filter</p>
                    </td>
                    <td>
                      <p>Array of string</p>
                    </td>
                    <td>
                      <p>Yes</p>
                    </td>
                    <td>
                      <p>Filter the chat list to only allow interactions with chats whose identifiers are among the specified set. If unspecified, allow interactions with any chat for which the client has permission. An empty array is not the same as unfiltered,
                        it results in not allowing interaction with any chats.</p>
                      <p> Note that to be invited to a new chat when using a filter, that chat must be added to the filter before the invite is received. The set may be modified by calling <a href="BBMEnterprise.Messenger.html#filterAdd">BBMEnterprise.Messenger#filterAdd</a>                        and <a href="BBMEnterprise.Messenger.html#filterRemove">BBMEnterprise.Messenger#filterRemove</a>.</p>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <p>configuration.syncMode</p>
                    </td>
                    <td>
                      <p><a href="BBMEnterprise.Messenger.html#.SyncMode">Messenger.SyncMode</a></p>
                    </td>
                    <td>
                      <p>Yes</p>
                    </td>
                    <td>
                      <p>Set the default for what status needs to be seen in a message before ending an initial sync. The default is SyncToRead if unspecified.</p>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <p>configuration.logLevel</p>
                    </td>
                    <td>
                      <p>number</p>
                    </td>
                    <td>
                      <p>Yes</p>
                    </td>
                    <td>
                      <p>The amount of log output to produce. 0 produces the least logging, 3 produces the most. The default is 2 if unspecified.</p>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <p>configuration.nickname</p>
                    </td>
                    <td>
                      <p>string</p>
                    </td>
                    <td>
                      <p>Yes</p>
                    </td>
                    <td>
                      <p>A nickname for the endpoint. This information about the endpoint will be displayed by other devices doing endpoint management. It should be provided by the user, and may be anything they want. The maximum length is 2000 codepoints.
                        Anything longer will be truncated.</p>
                    </td>
                  </tr>
                </tbody>
              </table>
            </section>
            <section>
              <h3>Properties</h3>
              <table class="jsdoc-details-table">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Type</th>
                    <th>Optional</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <p>messenger</p>
                    </td>
                    <td>
                      <p><a href="BBMEnterprise.Messenger.html">BBMEnterprise.Messenger</a></p>
                    </td>
                    <td>
                      <p>&nbsp;</p>
                    </td>
                    <td>
                      <p>
                        <p>An instance of the Messenger class to provide chat functionality.</p>
                      </p>
                      <ul>
                        <li>undefined if called when BBMEnterprise is not set up.</li>
                      </ul>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <p>media</p>
                    </td>
                    <td>
                      <p><a href="BBMEnterprise.Media.html">BBMEnterprise.Media</a></p>
                    </td>
                    <td>
                      <p>&nbsp;</p>
                    </td>
                    <td>
                      <p>
                        <p>An instance of the Media class to manage media calls.</p>
                      </p>
                      <ul>
                        <li>undefined if called when BBMEnterprise is not set up.</li>
                        <li>null if the feature is unsupported</li>
                      </ul>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <p>messengerEvents</p>
                    </td>
                    <td>
                      <p>EventEmitter</p>
                    </td>
                    <td>
                      <p>&nbsp;</p>
                    </td>
                    <td>
                      <p>An emitter with which to register to receive events from messenger. This object is available to register listeners even when not set up, however no events will be emitted at that time.</p>
                    </td>
                  </tr>
                </tbody>
              </table>
            </section>
            <dl class="dl-compact">
              <dt>Throws</dt>
              <dd>
                <p><code>(ReferenceError or TypeError)</code>&nbsp;
                  <p>When an invalid parameter is provided.</p>
                </p>
              </dd>
            </dl>
          </section>
          <section>
            <h2>Classes</h2>
            <section id='members-links'>
              <h3><a href="BBMEnterprise.Media.html">Media</a></h3>
              <h3><a href="BBMEnterprise.Messenger.html">Messenger</a></h3>
            </section>
            <h2>Interface</h2>
            <section id='members-links'>
              <h3><a href="BBMEnterprise.KeyProviderInterface.html">KeyProviderInterface</a></h3>
            </section>
            <h2>Namespaces</h2>
            <section id='members-links'>
              <h3><a href="BBMEnterprise.Error.html">Error</a></h3>
              <h3><a href="BBMEnterprise.Event.html">Event</a></h3>
              <h3><a href="BBMEnterprise.Util.html">Util</a></h3>
            </section>
            <h2>Methods</h2>
            <section>
              <h3 id="getRegistrationInfo"><span class="symbol-name">getRegistrationInfo</span><span class="signature"><span class="signature-params">()</span>&nbsp;&rarr; <span class="signature-returns"> <a href="BBMEnterprise.Event.RegistrationChanged.html">BBMEnterprise.Event.RegistrationChanged</a></span></span>
              </h3>
              <p>Return the registration information of the SDK. The return value will be undefined if the SDK is not set up.</p>
              <dl class="dl-compact">
                <dt>Throws</dt>
                <dd>
                  <p><code><a href="BBMEnterprise.Error.Error.html">BBMEnterprise.Error.Error</a></code>&nbsp;
                    <p>When the SDK is not set up.</p>
                  </p>
                </dd>
                <dt>Returns</dt>
                <dd>
                  <p><code><a href="BBMEnterprise.Event.RegistrationChanged.html">BBMEnterprise.Event.RegistrationChanged</a></code>&nbsp;</p>
                </dd>
              </dl>
              <h3 id="isSetup"><span class="symbol-name">isSetup</span><span class="signature"><span class="signature-params">()</span>&nbsp;&rarr; <span class="signature-returns"> Boolean</span></span>
              </h3>
              <p>Return whether or not the SDK is currently in a set up state.</p>
              <dl class="dl-compact">
                <dt>Returns</dt>
                <dd>
                  <p><code>Boolean</code>&nbsp;
                    <p>True if the SDK has been set up. False if it has not been set up, or has been set up, then shut down.</p>
                  </p>
                </dd>
              </dl>
              <h3 id="retryServerRequests"><span class="symbol-name">retryServerRequests</span><span class="signature"><span class="signature-params">()</span></span>
              </h3>
              <p>This function may be called at any time user activity resumes after an idle period. Any event that is considered to be a good representation of the user becoming interested in interacting with BBM Enterprise again may be used to trigger
                this function, and thus will make a good event to use as a user-driven retry trigger. For example an app could call this function whenever the application goes from being 'not on the screen' or 'out of focus' to being 'on the screen' or
                'in focus'. However, the app may also choose to tie this trigger to an explicit user action such as a 'Refresh' button.
              </p>
              <p>The app does not need to 'rate limit' or otherwise filter calls to this function.
              </p>
              <dl class="dl-compact">
              </dl>
              <h3 id="setup"><span class="symbol-name">setup</span><span class="signature"><span class="signature-params">()</span>&nbsp;&rarr; <span class="signature-returns"> Promise containing (<a href="BBMEnterprise.html#.SetupResult">BBMEnterprise.SetupResult</a> or <a href="BBMEnterprise.Event.RegistrationChanged.html">BBMEnterprise.Event.RegistrationChanged</a>)</span></span>
              </h3>
              <p>Perform the setup flow in the SDK. After setup, a Promise is returned containing objects to send and receive messages and make and receive voice or video calls.</p>
              <dl class="dl-compact">
                <dt>Fires</dt>
                <dd><a href="BBMEnterprise.html#event:registrationChanged">BBMEnterprise#event:registrationChanged</a></dd>
                <dt>Throws</dt>
                <dd>
                  <p><code><a href="BBMEnterprise.Error.Error.html">BBMEnterprise.Error.Error</a></code>&nbsp;
                    <p>When setup is already in progress or completed.</p>
                  </p>
                </dd>
                <dt>Returns</dt>
                <dd>
                  <p><code>Promise containing (<a href="BBMEnterprise.html#.SetupResult">BBMEnterprise.SetupResult</a> or <a href="BBMEnterprise.Event.RegistrationChanged.html">BBMEnterprise.Event.RegistrationChanged</a>)</code>&nbsp;
                    <p>A promise which will either be resolved with a SetupResult through which communication can be performed, or be rejected with an unsuccessful RegistrationChanged.
                    </p>
                  </p>
                </dd>
              </dl>
              <h3 id="shutdown"><span class="symbol-name">shutdown</span><span class="signature"><span class="signature-params">()</span></span>
              </h3>
              <p>Reset the BBM Web SDK to its unsetup state. After calling this function, Messenger#setup may be called again to set up the Messenger. This does not allow changing the user identity of the Messenger. Changing identity requires creation of
                a new Messenger. If after creating a new Messenger, the old one will no longer be used, then this function should be called to stop the old one from performing network operations, and to make it collectible as garbage.</p>
              <dl class="dl-compact">
              </dl>
            </section>
            <h2>Abstract types</h2>
            <section>
              <div class="symbol-detail-labels"><span class="label label-static">static</span></div>
              <h3 id=".SetupResult"><span class="symbol-name">SetupResult</span><small class="property-type">
            &nbsp;Object</small></h3>
              <p>The result of performing setup. It contains the objects through which communication can be accomplished.</p>
              <section>
                <h4>Properties</h4>
                <table class="jsdoc-details-table">
                  <thead>
                    <tr>
                      <th>Name</th>
                      <th>Type</th>
                      <th>Optional</th>
                      <th>Description</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>
                        <p>messenger</p>
                      </td>
                      <td>
                        <p><a href="BBMEnterprise.Messenger.html">BBMEnterprise.Messenger</a></p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>An object through which messages and files can be sent and received.</p>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <p>media</p>
                      </td>
                      <td>
                        <p><a href="BBMEnterprise.Media.html">BBMEnterprise.Media</a></p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>An object through which voice and video calls can be made or received.</p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </section>
              <dl class="dl-compact">
              </dl>
              <h3 id="authTokenCallback"><span class="symbol-name">authTokenCallback</span><span class="signature"><span class="signature-params">()</span>&nbsp;&rarr; <span class="signature-returns"> Promise containing string</span></span>
              </h3>
              <p>This callback type is invoked when there is a change in the connection state.
              </p>
              <dl class="dl-compact">
                <dt>Returns</dt>
                <dd>
                  <p><code>Promise containing string</code>&nbsp;
                    <p>Returns a promise of a new authentication token.</p>
                  </p>
                </dd>
              </dl>
              <h3 id="keyProviderCallback"><span class="symbol-name">keyProviderCallback</span><span class="signature"><span class="signature-params">(regId)</span>&nbsp;&rarr; <span class="signature-returns"> Promise containing <a href="BBMEnterprise.KeyProviderInterface.html">BBMEnterprise.KeyProviderInterface</a></span></span>
              </h3>
              <p>The function used to call back on the application during
                <a href="BBMEnterprise.html#setup">BBMEnterprise#setup</a> when a key provider setup for use with the given regId is needed. The key provider returned by the promise must implement the KeyProviderInterface.</p>
              <p>Any rejection of the returned promise will result in a failure to complete registration of the SDK with the infrastructure.</p>
              <section>
                <h4>Parameter</h4>
                <table class="jsdoc-details-table">
                  <thead>
                    <tr>
                      <th>Name</th>
                      <th>Type</th>
                      <th>Optional</th>
                      <th>Description</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>
                        <p>regId</p>
                      </td>
                      <td>
                        <p>string</p>
                      </td>
                      <td>
                        <p>&nbsp;</p>
                      </td>
                      <td>
                        <p>The BBM Registration ID of the local user.</p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </section>
              <dl class="dl-compact">
                <dt>Returns</dt>
                <dd>
                  <p><code>Promise containing <a href="BBMEnterprise.KeyProviderInterface.html">BBMEnterprise.KeyProviderInterface</a></code>&nbsp;
                    <p>Returns the promise of an object that implements the <a href="BBMEnterprise.KeyProviderInterface.html">BBMEnterprise.KeyProviderInterface</a>.</p>
                  </p>
                </dd>
              </dl>
            </section>
            <h2>Event</h2>
            <section>
              <h3 id="event:registrationChanged"><span class="symbol-name">registrationChanged</span><small class="property-type">
            &nbsp;<a href="BBMEnterprise.Event.RegistrationChanged.html">BBMEnterprise.Event.RegistrationChanged</a></small></h3>
              <p>The event used to indicate that a registration attempt with the BlackBerry infrastructure succeeded or failed. This event is used to relay the identity details of the user in the BBM ecosystem resulting from a successful registration.</p>
              <p>This event may be emitted at any time after <a href="BBMEnterprise.html#setup">BBMEnterprise#setup</a> has been called.</p>
              <dl class="dl-compact">
              </dl>
            </section>
          </section>
        </div>
      </div>
      <nav id="jsdoc-toc-nav" role="navigation"></nav>
    </div>
  </div>
  <footer id="jsdoc-footer" class="jsdoc-footer">
    <div id="jsdoc-footer-container">
      <p>
        Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc</a> 3.5.5 on November 24, 2017.
      </p>
    </div>
  </footer>
  <script src="scripts/jquery.min.js"></script>
  <script src="scripts/jquery.cookie.js"></script>
  <script src="scripts/tree.jquery.js"></script>
  <script src="scripts/prettify.js"></script>
  <script src="scripts/jsdoc-toc.js"></script>
  <script src="scripts/linenumber.js"></script>
  <script src="scripts/scrollanchor.js"></script>
</body>

</html>