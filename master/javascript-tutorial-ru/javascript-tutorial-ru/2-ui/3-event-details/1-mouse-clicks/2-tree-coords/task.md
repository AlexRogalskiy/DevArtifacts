importance: 3

---

# Дерево: проверка клика на заголовке

Есть кликабельное JavaScript-дерево UL/LI (см. задачу <info:task/sliding-tree>).

```html
<ul>
  <li>Млекопитающие
    <ul>
      <li>Коровы</li>
      <li>Ослы</li>
      <li>Собаки</li>
      <li>Тигры</li>
    </ul>
  </li>
</ul>
```

При клике на заголовке его список его детей скрывается-раскрывается.
Выглядит это так: (кликайте на заголовки)

[iframe edit link border="1" src="source"]

Однако, проблема в том, что скрытие-раскрытие происходит даже при клике *вне заголовка*, на пустом пространстве справа от него.

**Как скрывать/раскрывать детей только при клике на заголовок?**

В задаче <info:task/sliding-tree> это решено так: заголовки завёрнуты в элементы `SPAN` и проверяются клики только на них. Представим на минуту, что мы не хотим оборачивать текст в `SPAN`, а хотим оставить как есть. Например, по соображениям производительности, если дерево и так очень большое, ведь оборачивание всех заголовков в `SPAN` увеличит количество DOM-узлов в 2 раза.

**Решите задачу без обёртывания заголовков в `SPAN`, используя работу с координатами.**

Исходный документ содержит кликабельное дерево.

P.S. Задача -- скорее на сообразительность, однако подход может быть полезен в реальной жизни.
