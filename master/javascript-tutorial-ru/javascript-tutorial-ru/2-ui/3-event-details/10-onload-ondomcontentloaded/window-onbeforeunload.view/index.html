<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
</head>

<body>
  <script>
    function setHandler() {
      window.onbeforeunload = function() {
        return "Данные не сохранены. Точно перейти?";
      };
    }
  </script>

  <button onclick="setHandler()">Поставить window.onbeforeunload</button>

  <a href="http://example.com">Уйти на EXAMPLE.COM</a>
</body>

</html>